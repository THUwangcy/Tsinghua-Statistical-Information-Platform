{% extends 'questionnaire/publish_qst/index.html' %}

{% block title%}

        <label for="fillin_field" id="fillin_title" class="control-label">请在此输入问题标题</label>
        <label id = "must_qst" style="color:red; display: none;">&nbsp;*</label>

        <div class="row" style="text-align: left; padding-left:25px; padding-top: 10px;">
                <textarea id="fillin_field" name="qst{{ questions_id }}" class="form-control"
                      style="resize: vertical; width: 60%" rows="1" class="validate[required]" ></textarea>
        </div>

    <script >

        //alert("0");
        $(document).ready(function(){
          //  alert("1");
            var source_panel_body = $("#qst{{ questions_id }}");
            if('{{questions_title}}' != 'None')
                source_panel_body.find("#fillin_title").html('{{questions_title}}');
            if('{{rows}}' != 'None')
            	source_panel_body.find("#fillin_field").attr('rows', '{{rows}}');
            if('{{hint}}' != 'None')
            	source_panel_body.find("#fillin_field").attr('placeholder', '{{hint}}');
            //alert("2");
            //必答题星号
            if('{{qst_must}}' == 'true'){
                source_panel_body.find("#must_qst").css("display", '');
                source_panel_body.find("#fillin_field").attr("required",'');
            }


//            alert("3");
            //加载选框样式
            $('input').iCheck({
              checkboxClass: 'icheckbox_flat-green',
              radioClass: 'iradio_flat-green',
              increaseArea: '20%'
            });
  //          alert("4");
            //判断是否是已填写的问卷
            if('{{ result }}' != '') {
                source_panel_body.find("#fillin_field").html('{{ result }}');
            }
        });

        //(function() {
        //    $("#qst{{ questions_id }}").blur(function () {//用户名文本框失去焦点触发验证事件
         //       alert("aaa");
         //       if (!$(this).val) {
         //           alert("用户名不能为空且只能为英文或者数字");
         //       }
         //       else {
         //           alert("输入正确");
         //       }
         //   })
       // });


    </script>
{% endblock title %}